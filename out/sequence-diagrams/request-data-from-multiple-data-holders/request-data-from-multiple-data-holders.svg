<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1734px" preserveAspectRatio="none" style="width:2023px;height:1734px;background:#FFFFFF;" version="1.1" viewBox="0 0 2023 1734" width="2023px" zoomAndPan="magnify"><defs/><g><rect fill="#DDDDDD" height="1715.8789" style="stroke:#181818;stroke-width:0.5;" width="1012.5" x="21" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="159" x="447.75" y="18.5684">data_user_organisation</text><rect fill="#DDDDDD" height="1715.8789" style="stroke:#181818;stroke-width:0.5;" width="836.5" x="1165" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173" x="1496.75" y="18.5684">data_holder_organisation</text><rect fill="#FFFFFF" height="1489.8379" style="stroke:#181818;stroke-width:1.0;" width="10" x="376" y="220.041"/><rect fill="#FFFFFF" height="93.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="944" y="1043.0469"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1252" y="1242.2207"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1252" y="1507.0156"/><rect fill="#FFFFFF" height="204.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="1714" y="1197.5996"/><rect fill="#FFFFFF" height="204.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="1714" y="1462.3945"/><rect fill="none" height="312.1055" style="stroke:#000000;stroke-width:1.5;" width="746.5" x="303" y="277.3516"/><rect fill="#FFC0CB" height="133.5527" style="stroke:#000000;stroke-width:1.5;" width="726.5" x="313" y="301.6621"/><rect fill="#ADD8E6" height="59.6211" style="stroke:#000000;stroke-width:1.5;" width="597" x="313" y="449.2148"/><rect fill="#FFFFE0" height="59.6211" style="stroke:#000000;stroke-width:1.5;" width="504" x="313" y="522.8359"/><rect fill="none" height="1078.1113" style="stroke:#000000;stroke-width:1.5;" width="1724.5" x="293" y="603.457"/><rect fill="none" height="332.0371" style="stroke:#000000;stroke-width:1.5;" width="746.5" x="303" y="627.7676"/><rect fill="#FFC0CB" height="59.6211" style="stroke:#000000;stroke-width:1.5;" width="636" x="313" y="652.0781"/><rect fill="#ADD8E6" height="106.5527" style="stroke:#000000;stroke-width:1.5;" width="726.5" x="313" y="725.6992"/><rect fill="#FFFFE0" height="106.5527" style="stroke:#000000;stroke-width:1.5;" width="726.5" x="313" y="846.252"/><rect fill="none" height="171.1738" style="stroke:#000000;stroke-width:1.5;" width="1042" x="313" y="973.8047"/><rect fill="none" height="250.7949" style="stroke:#000000;stroke-width:1.5;" width="1694.5" x="313" y="1158.9785"/><rect fill="none" height="250.7949" style="stroke:#000000;stroke-width:1.5;" width="1694.5" x="313" y="1423.7734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="89" x2="89" y1="101.7988" y2="1727.8789"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="381" x2="381" y1="101.7988" y2="1727.8789"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="948.5" x2="948.5" y1="101.7988" y2="1727.8789"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1257" x2="1257" y1="101.7988" y2="1727.8789"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1718.5" x2="1718.5" y1="101.7988" y2="1727.8789"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1907.5" x2="1907.5" y1="101.7988" y2="1727.8789"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="25" y="98.8457">data_user_person</text><ellipse cx="89" cy="33.8105" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M89,41.8105 L89,68.8105 M76,49.8105 L102,49.8105 M89,68.8105 L76,83.8105 M89,68.8105 L102,83.8105 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="323" y="70.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="330" y="90.8457">App_data_user</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="161" x="868.5" y="70.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="875.5" y="90.8457">Nuts_node_data_user</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="1169" y="70.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="1176" y="90.8457">Nuts_node_data_holder</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179" x="1629.5" y="70.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="1636.5" y="90.8457">AAA_Proxy_data_holder</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179" x="1818.5" y="70.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="1825.5" y="90.8457">Fhir_server_data_holder</text><rect fill="#FFFFFF" height="1489.8379" style="stroke:#181818;stroke-width:1.0;" width="10" x="376" y="220.041"/><rect fill="#FFFFFF" height="93.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="944" y="1043.0469"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1252" y="1242.2207"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1252" y="1507.0156"/><rect fill="#FFFFFF" height="204.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="1714" y="1197.5996"/><rect fill="#FFFFFF" height="204.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="1714" y="1462.3945"/><polygon fill="#181818" points="369,129.1094,379,133.1094,369,137.1094,373,133.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="89" x2="375" y1="133.1094" y2="133.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="96" y="128.3672">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="109" y="128.3672">Log in</text><line style="stroke:#181818;stroke-width:1.0;" x1="381" x2="423" y1="177.7305" y2="177.7305"/><line style="stroke:#181818;stroke-width:1.0;" x1="423" x2="423" y1="177.7305" y2="190.7305"/><line style="stroke:#181818;stroke-width:1.0;" x1="382" x2="423" y1="190.7305" y2="190.7305"/><polygon fill="#181818" points="392,186.7305,382,190.7305,392,194.7305,388,190.7305" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="388" y="165.333">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="401" y="157.6777">Create User session,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="337" x="401" y="172.9883">User info needed for NutsEmployeeCredential (step 7)</text><polygon fill="#181818" points="364,216.041,374,220.041,364,224.041,368,220.041" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="89" x2="370" y1="220.041" y2="220.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="96" y="215.2988">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255" x="109" y="215.2988">GP request ACP information for Patient X</text><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="428" y1="249.3516" y2="249.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="428" x2="428" y1="249.3516" y2="262.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="387" x2="428" y1="262.3516" y2="262.3516"/><polygon fill="#181818" points="397,258.3516,387,262.3516,397,266.3516,393,262.3516" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="393" y="244.6094">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="406" y="244.6094">Resolve Patient BSN</text><path d="M303,277.3516 L433,277.3516 L433,284.6621 L423,294.6621 L303,294.6621 L303,277.3516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="312.1055" style="stroke:#000000;stroke-width:1.5;" width="746.5" x="303" y="277.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="85" x="318" y="290.9199">localize data</text><path d="M313,301.6621 L770,301.6621 L770,308.9727 L760,318.9727 L313,318.9727 L313,301.6621 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="133.5527" style="stroke:#000000;stroke-width:1.5;" width="726.5" x="313" y="301.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="412" x="328" y="315.2305">option 1: localize and find addresses using Discovery Service</text><polygon fill="#181818" points="937,351.5938,947,355.5938,937,359.5938,941,355.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="943" y1="355.5938" y2="355.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="393" y="343.1963">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="317" x="406" y="335.541">Find all organizations that support the pzp service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="406" y="350.8516">Get /internal/discovery/v1/pzp</text><polygon fill="#181818" points="397,380.9043,387,384.9043,397,388.9043,393,384.9043" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="391" x2="948" y1="384.9043" y2="384.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="403" y="380.1621">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="366" x="416" y="380.1621">array of presentations of all orgnizations that support pzp</text><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="428" y1="414.2148" y2="414.2148"/><line style="stroke:#181818;stroke-width:1.0;" x1="428" x2="428" y1="414.2148" y2="427.2148"/><line style="stroke:#181818;stroke-width:1.0;" x1="387" x2="428" y1="427.2148" y2="427.2148"/><polygon fill="#181818" points="397,423.2148,387,427.2148,397,431.2148,393,427.2148" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="393" y="409.4727">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="406" y="409.4727">store array "ArrayOfPresentations"</text><path d="M313,449.2148 L905,449.2148 L905,456.5254 L895,466.5254 L313,466.5254 L313,449.2148 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="59.6211" style="stroke:#000000;stroke-width:1.5;" width="597" x="313" y="449.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="547" x="328" y="462.7832">option 2: localize using a local CareTeam, find addresses using Discovery Service</text><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="428" y1="487.8359" y2="487.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="428" x2="428" y1="487.8359" y2="500.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="387" x2="428" y1="500.8359" y2="500.8359"/><polygon fill="#181818" points="397,496.8359,387,500.8359,397,504.8359,393,500.8359" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="393" y="483.0938">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291" x="406" y="483.0938">get local CareTeam FHIR-resource of Patient X</text><path d="M313,522.8359 L812,522.8359 L812,530.1465 L802,540.1465 L313,540.1465 L313,522.8359 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="59.6211" style="stroke:#000000;stroke-width:1.5;" width="504" x="313" y="522.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="454" x="328" y="536.4043">option 3: localize using NVI, find addresses using Discovery Service</text><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="428" y1="561.457" y2="561.457"/><line style="stroke:#181818;stroke-width:1.0;" x1="428" x2="428" y1="561.457" y2="574.457"/><line style="stroke:#181818;stroke-width:1.0;" x1="387" x2="428" y1="574.457" y2="574.457"/><polygon fill="#181818" points="397,570.457,387,574.457,397,578.457,393,574.457" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="393" y="556.7148">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="406" y="556.7148">to do</text><path d="M293,603.457 L367,603.457 L367,610.7676 L357,620.7676 L293,620.7676 L293,603.457 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1078.1113" style="stroke:#000000;stroke-width:1.5;" width="1724.5" x="293" y="603.457"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="308" y="617.0254">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="158" x="382" y="616.0918">[for each found data holder]</text><path d="M303,627.7676 L508,627.7676 L508,635.0781 L498,645.0781 L303,645.0781 L303,627.7676 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="332.0371" style="stroke:#000000;stroke-width:1.5;" width="746.5" x="303" y="627.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="160" x="318" y="641.3359">get endpoint addresses</text><path d="M313,652.0781 L770,652.0781 L770,659.3887 L760,669.3887 L313,669.3887 L313,652.0781 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="59.6211" style="stroke:#000000;stroke-width:1.5;" width="636" x="313" y="652.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="412" x="328" y="665.6465">option 1: localize and find addresses using Discovery Service</text><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="428" y1="690.6992" y2="690.6992"/><line style="stroke:#181818;stroke-width:1.0;" x1="428" x2="428" y1="690.6992" y2="703.6992"/><line style="stroke:#181818;stroke-width:1.0;" x1="387" x2="428" y1="703.6992" y2="703.6992"/><polygon fill="#181818" points="397,699.6992,387,703.6992,397,707.6992,393,703.6992" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="393" y="685.957">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="522" x="415" y="685.957">get the FHIR-endpoint address from the array "ArrayOfPresentations", filter on URA</text><path d="M313,725.6992 L905,725.6992 L905,733.0098 L895,743.0098 L313,743.0098 L313,725.6992 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="106.5527" style="stroke:#000000;stroke-width:1.5;" width="726.5" x="313" y="725.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="547" x="328" y="739.2676">option 2: localize using a local CareTeam, find addresses using Discovery Service</text><polygon fill="#181818" points="937,790.9414,947,794.9414,937,798.9414,941,794.9414" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="943" y1="794.9414" y2="794.9414"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="393" y="774.8887">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="415" y="759.5781">Get organization details by URA</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="415" y="774.8887">GET /internal/discovery/v1/pzp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="406" x="415" y="790.1992">payload { id_uzicert_x509credential.organization_ura = &lt;URA&gt; }</text><polygon fill="#181818" points="397,820.252,387,824.252,397,828.252,393,824.252" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="391" x2="948" y1="824.252" y2="824.252"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="403" y="819.5098">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="464" x="425" y="819.5098">presentation that includes subject-id, authz-server-url and fhir-base-url</text><path d="M313,846.252 L812,846.252 L812,853.5625 L802,863.5625 L313,863.5625 L313,846.252 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="106.5527" style="stroke:#000000;stroke-width:1.5;" width="726.5" x="313" y="846.252"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="454" x="328" y="859.8203">option 3: localize using NVI, find addresses using Discovery Service</text><polygon fill="#181818" points="937,911.4941,947,915.4941,937,919.4941,941,915.4941" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="943" y1="915.4941" y2="915.4941"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="393" y="895.4414">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="415" y="880.1309">Get organization details by URA</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="415" y="895.4414">GET /internal/discovery/v1/pzp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="406" x="415" y="910.752">payload { id_uzicert_x509credential.organization_ura = &lt;URA&gt; }</text><polygon fill="#181818" points="397,940.8047,387,944.8047,397,948.8047,393,944.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="391" x2="948" y1="944.8047" y2="944.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="403" y="940.0625">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="491" x="425" y="940.0625">presentation that includes subject-id, authz-server-url and and fhir-base-url</text><path d="M313,973.8047 L470,973.8047 L470,981.1152 L460,991.1152 L313,991.1152 L313,973.8047 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="171.1738" style="stroke:#000000;stroke-width:1.5;" width="1042" x="313" y="973.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="112" x="328" y="987.373">get access token</text><polygon fill="#181818" points="932,1039.0469,942,1043.0469,932,1047.0469,936,1043.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="938" y1="1043.0469" y2="1043.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="393" y="1022.9941">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="415" y="1007.6836">Get access token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="423" x="415" y="1022.9941">POST /internal/auth/v2/{subjectID}/request-service-access-token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="290" x="415" y="1038.3047">use subject-id, authz-server-url found earlier</text><polygon fill="#181818" points="965,1068.3574,955,1072.3574,965,1076.3574,961,1072.3574" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1245,1068.3574,1255,1072.3574,1245,1076.3574,1249,1072.3574" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="959" x2="1251" y1="1072.3574" y2="1072.3574"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="971" y="1067.6152">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="993" y="1067.6152">nuts-nodes handle access token request</text><path d="M959,1085.3574 L959,1110.3574 L1294,1110.3574 L1294,1095.3574 L1284,1085.3574 L959,1085.3574 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1284,1085.3574 L1284,1095.3574 L1294,1095.3574 L1284,1085.3574 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="314" x="965" y="1102.9258">uses X509Credential and NutsEmployeeCredential</text><polygon fill="#181818" points="397,1132.9785,387,1136.9785,397,1140.9785,393,1136.9785" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="391" x2="948" y1="1136.9785" y2="1136.9785"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="403" y="1132.2363">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="425" y="1132.2363">Access token</text><path d="M313,1158.9785 L481,1158.9785 L481,1166.2891 L471,1176.2891 L313,1176.2891 L313,1158.9785 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="250.7949" style="stroke:#000000;stroke-width:1.5;" width="1694.5" x="313" y="1158.9785"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="123" x="328" y="1172.5469">get Patient by bsn</text><polygon fill="#181818" points="1702,1193.5996,1712,1197.5996,1702,1201.5996,1706,1197.5996" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="1708" y1="1197.5996" y2="1197.5996"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="393" y="1192.8574">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="415" y="1192.8574">POST /fhir/Patient/_search</text><polygon fill="#181818" points="1273,1238.2207,1263,1242.2207,1273,1246.2207,1269,1242.2207" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1267" x2="1713" y1="1242.2207" y2="1242.2207"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1279" y="1229.8232">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="1301" y="1222.168">introspect access token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="1301" y="1237.4785">POST /internal/auth/v2/accesstoken/introspect</text><polygon fill="#181818" points="1702,1267.5313,1712,1271.5313,1702,1275.5313,1706,1271.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1257" x2="1708" y1="1271.5313" y2="1271.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1264" y="1266.7891">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="406" x="1286" y="1266.7891">valid token + URA of data_user + USER{name,userRole,identifier}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1724" x2="1766" y1="1300.8418" y2="1300.8418"/><line style="stroke:#181818;stroke-width:1.0;" x1="1766" x2="1766" y1="1300.8418" y2="1313.8418"/><line style="stroke:#181818;stroke-width:1.0;" x1="1725" x2="1766" y1="1313.8418" y2="1313.8418"/><polygon fill="#181818" points="1735,1309.8418,1725,1313.8418,1735,1317.8418,1731,1313.8418" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1731" y="1296.0996">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="1753" y="1296.0996">Authorization</text><polygon fill="#181818" points="1896,1339.1523,1906,1343.1523,1896,1347.1523,1900,1343.1523" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1724" x2="1902" y1="1343.1523" y2="1343.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1731" y="1338.4102">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="1753" y="1338.4102">forward request</text><polygon fill="#181818" points="1735,1368.4629,1725,1372.4629,1735,1376.4629,1731,1372.4629" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1729" x2="1907" y1="1372.4629" y2="1372.4629"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1741" y="1367.7207">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1763" y="1367.7207">Patient-resource</text><polygon fill="#181818" points="397,1397.7734,387,1401.7734,397,1405.7734,393,1401.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="391" x2="1718" y1="1401.7734" y2="1401.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="403" y="1397.0313">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="425" y="1397.0313">forward Patient-resource</text><path d="M313,1423.7734 L669,1423.7734 L669,1431.084 L659,1441.084 L313,1441.084 L313,1423.7734 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="250.7949" style="stroke:#000000;stroke-width:1.5;" width="1694.5" x="313" y="1423.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="311" x="328" y="1437.3418">get TreatmentDirective2 by Patient-reference</text><polygon fill="#181818" points="1702,1458.3945,1712,1462.3945,1702,1466.3945,1706,1462.3945" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="1708" y1="1462.3945" y2="1462.3945"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="393" y="1457.6523">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="305" x="415" y="1457.6523">GET /fhir/Consent?patient=&lt;patient-reference&gt;</text><polygon fill="#181818" points="1273,1503.0156,1263,1507.0156,1273,1511.0156,1269,1507.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1267" x2="1713" y1="1507.0156" y2="1507.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1279" y="1494.6182">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="1301" y="1486.9629">introspect access token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="1301" y="1502.2734">POST /internal/auth/v2/accesstoken/introspect</text><polygon fill="#181818" points="1702,1532.3262,1712,1536.3262,1702,1540.3262,1706,1536.3262" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1257" x2="1708" y1="1536.3262" y2="1536.3262"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1264" y="1531.584">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="406" x="1286" y="1531.584">valid token + URA of data_user + USER{name,userRole,identifier}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1724" x2="1766" y1="1565.6367" y2="1565.6367"/><line style="stroke:#181818;stroke-width:1.0;" x1="1766" x2="1766" y1="1565.6367" y2="1578.6367"/><line style="stroke:#181818;stroke-width:1.0;" x1="1725" x2="1766" y1="1578.6367" y2="1578.6367"/><polygon fill="#181818" points="1735,1574.6367,1725,1578.6367,1735,1582.6367,1731,1578.6367" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1731" y="1560.8945">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="1753" y="1560.8945">Authorization</text><polygon fill="#181818" points="1896,1603.9473,1906,1607.9473,1896,1611.9473,1900,1607.9473" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1724" x2="1902" y1="1607.9473" y2="1607.9473"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1731" y="1603.2051">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="1753" y="1603.2051">forward request</text><polygon fill="#181818" points="1735,1633.2578,1725,1637.2578,1735,1641.2578,1731,1637.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1729" x2="1907" y1="1637.2578" y2="1637.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1741" y="1632.5156">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="1763" y="1632.5156">Consent-resource</text><polygon fill="#181818" points="397,1662.5684,387,1666.5684,397,1670.5684,393,1666.5684" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="391" x2="1718" y1="1666.5684" y2="1666.5684"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="403" y="1661.8262">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="425" y="1661.8262">forward Consent-resource</text><polygon fill="#181818" points="100,1705.8789,90,1709.8789,100,1713.8789,96,1709.8789" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="94" x2="380" y1="1709.8789" y2="1709.8789"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="106" y="1705.1367">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="128" y="1705.1367">Display data</text><!--SRC=[xLXjRzis4FxkNt7elcoODRSPXc56wi7DInUWI0qd7JgWW45BPviBJN8avSOE-jztf6HRibxYTUts9VgGMDJfxhbxxev7BNY2C5FAJTLzXwLEoNGvHTEnTrngPjWINgdx4KiIBkTmyhpJ8Jb8c6EJrAAPA3Ddablck98T5Zjb2Wyr6alBfCRnc6ic7Gordkm4Ia-kKsSdKYLOU8uo0OzhRtIXH79ejaLB9bv6C1nEHaRThnibBXVSJCZyYWmLPRPe3Xs4Q53s2_hmHis1oqvvkKRkp21p2E_ydKLhoPykV93XdikP0ecOO48CcU3RnL8BjKQaznAKZZC1trg76dx-hdCKiDSZCFXNYfOYSJOADimon37O6D5FqWllFPbyvR6LAGEwshtgmnYj4YlSANjrSzq9BywDIZK85JF1DnWO3UlxPzzeBkz0wG3eHNylooZuCqv_A1KD1GejfDRdv3ctiIAgrd13bF4OTnfheTQaMHykWs8X8CkhJOY71RTW3cogjJAERX3qHeFDh119hz51Zqk7HZBHIxOuUgiNFH8imQYn2b4rSCmOjWOr0qqkKkHo7BIGWsl0TcYkfBPgnbAPOcxisT3_UpiR5Iq-ssdpEH-OwHmI9VXyuQOYnIrR9mMsCcfOjW1dpE0jicNtYp1uuCoSM2YRWSlVhiOHcL2f8Q8eUlkiVjolDzwlFr08zN7hsOyLpwv_l_htpaI30rUSWaJLGAm1B9JIeM2HnGlwaT9ZhmdoNbLsoiU856X5sRf7N4BsTShlY6Jqs7nj1T8EGSBCg6Lut9QjdWf1PGW4-jruM49GZkBsgdFzlqheuzkIRp35ZWG9EiQ5XUdQ- -bRqCLjImiY0StMGh447e0datH3M8oRtF_q_9Tuju7yK3GnIGs3bt1AwWVmgOBxo3vMR5zPf-8o5cb24RBfz4-CNSIJBj2uiTX4sKuRfKPaMKQxRpHb5lrA0vLrz7tLkdtYh9MpOtbxjFlwPi3Ys5U-KtSeAxLwF0abDH_awErDCUpUZTxgfFUG-tPr_gcNpqLHliD7cOPegu5KjqSYwyB8ZE253koltInLD-GUmzTfL7Krw_GqqabQZ_owXGKn8R3iU-vMnOvK1CZugl5RP9tLFjK6ANrFgLUODptPzQFevwKUcHaMy9QK97XKw5hpQRlvKm5EhNnajgWx7FGXInwVuRrSMuyE2Cp4YtgQwyyObOPI9mKjH5Fs6cKr9M29uSRapeI2J6__RWL7KuWRODSGcqaIi_KkzM55JJZ9y_7xq0SfvVQHfwMRY_63P4li-eMn4jZb8QjcL4lLdjQS5_yqrWsC3oc4okGDzZXjqQ3XuDZtWzf7PfB6KcnuiIcW_MrExuRSO_sjjlqjj5QDXN2tftPh8Txwi-wIZ9npWruVdlYYt5kUeK7vwFXV7v6mguOAFQEHaFJzgZEzBq_reO71KzK-LUt_KBLvPdx1gctL-1bLkxtpnylERlWgd-2YGUKxKz-FprhG0IryqYaQBdqy-Xi0]--></g></svg>