<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1734px" preserveAspectRatio="none" style="width:2253px;height:1734px;background:#FFFFFF;" version="1.1" viewBox="0 0 2253 1734" width="2253px" zoomAndPan="magnify"><defs/><g><rect fill="#DDDDDD" height="1715.8789" style="stroke:#181818;stroke-width:0.5;" width="1063.5" x="21" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="159" x="473.25" y="18.5684">data_user_organisation</text><rect fill="#DDDDDD" height="1715.8789" style="stroke:#181818;stroke-width:0.5;" width="1015.5" x="1216" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173" x="1637.25" y="18.5684">data_holder_organisation</text><rect fill="#FFFFFF" height="1489.8379" style="stroke:#181818;stroke-width:1.0;" width="10" x="376" y="220.041"/><rect fill="#FFFFFF" height="93.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="995" y="1043.0469"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1303" y="1242.2207"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1303" y="1507.0156"/><rect fill="#FFFFFF" height="204.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="1944" y="1197.5996"/><rect fill="#FFFFFF" height="204.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="1944" y="1462.3945"/><rect fill="none" height="312.1055" style="stroke:#000000;stroke-width:1.5;" width="797.5" x="303" y="277.3516"/><rect fill="#FFC0CB" height="133.5527" style="stroke:#000000;stroke-width:1.5;" width="777.5" x="313" y="301.6621"/><rect fill="#ADD8E6" height="59.6211" style="stroke:#000000;stroke-width:1.5;" width="597" x="313" y="449.2148"/><rect fill="#FFFFE0" height="59.6211" style="stroke:#000000;stroke-width:1.5;" width="504" x="313" y="522.8359"/><rect fill="none" height="1078.1113" style="stroke:#000000;stroke-width:1.5;" width="1954.5" x="293" y="603.457"/><rect fill="none" height="332.0371" style="stroke:#000000;stroke-width:1.5;" width="797.5" x="303" y="627.7676"/><rect fill="#FFC0CB" height="59.6211" style="stroke:#000000;stroke-width:1.5;" width="687" x="313" y="652.0781"/><rect fill="#ADD8E6" height="106.5527" style="stroke:#000000;stroke-width:1.5;" width="777.5" x="313" y="725.6992"/><rect fill="#FFFFE0" height="106.5527" style="stroke:#000000;stroke-width:1.5;" width="777.5" x="313" y="846.252"/><rect fill="none" height="171.1738" style="stroke:#000000;stroke-width:1.5;" width="1093" x="313" y="973.8047"/><rect fill="none" height="250.7949" style="stroke:#000000;stroke-width:1.5;" width="1924.5" x="313" y="1158.9785"/><rect fill="none" height="250.7949" style="stroke:#000000;stroke-width:1.5;" width="1924.5" x="313" y="1423.7734"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="89" x2="89" y1="101.7988" y2="1727.8789"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="381" x2="381" y1="101.7988" y2="1727.8789"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="999.5" x2="999.5" y1="101.7988" y2="1727.8789"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1308" x2="1308" y1="101.7988" y2="1727.8789"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1948.5" x2="1948.5" y1="101.7988" y2="1727.8789"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2137.5" x2="2137.5" y1="101.7988" y2="1727.8789"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="25" y="98.8457">data_user_person</text><ellipse cx="89" cy="33.8105" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M89,41.8105 L89,68.8105 M76,49.8105 L102,49.8105 M89,68.8105 L76,83.8105 M89,68.8105 L102,83.8105 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="323" y="70.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="330" y="90.8457">App_data_user</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="161" x="919.5" y="70.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="926.5" y="90.8457">Nuts_node_data_user</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="1220" y="70.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="1227" y="90.8457">Nuts_node_data_holder</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179" x="1859.5" y="70.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="1866.5" y="90.8457">AAA_Proxy_data_holder</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179" x="2048.5" y="70.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="2055.5" y="90.8457">Fhir_server_data_holder</text><rect fill="#FFFFFF" height="1489.8379" style="stroke:#181818;stroke-width:1.0;" width="10" x="376" y="220.041"/><rect fill="#FFFFFF" height="93.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="995" y="1043.0469"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1303" y="1242.2207"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1303" y="1507.0156"/><rect fill="#FFFFFF" height="204.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="1944" y="1197.5996"/><rect fill="#FFFFFF" height="204.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="1944" y="1462.3945"/><polygon fill="#181818" points="369,129.1094,379,133.1094,369,137.1094,373,133.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="89" x2="375" y1="133.1094" y2="133.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="96" y="128.3672">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="109" y="128.3672">Log in</text><line style="stroke:#181818;stroke-width:1.0;" x1="381" x2="423" y1="177.7305" y2="177.7305"/><line style="stroke:#181818;stroke-width:1.0;" x1="423" x2="423" y1="177.7305" y2="190.7305"/><line style="stroke:#181818;stroke-width:1.0;" x1="382" x2="423" y1="190.7305" y2="190.7305"/><polygon fill="#181818" points="392,186.7305,382,190.7305,392,194.7305,388,190.7305" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="388" y="165.333">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="401" y="157.6777">Create User session,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="337" x="401" y="172.9883">User info needed for NutsEmployeeCredential (step 7)</text><polygon fill="#181818" points="364,216.041,374,220.041,364,224.041,368,220.041" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="89" x2="370" y1="220.041" y2="220.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="96" y="215.2988">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255" x="109" y="215.2988">GP request ACP information for Patient X</text><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="428" y1="249.3516" y2="249.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="428" x2="428" y1="249.3516" y2="262.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="387" x2="428" y1="262.3516" y2="262.3516"/><polygon fill="#181818" points="397,258.3516,387,262.3516,397,266.3516,393,262.3516" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="393" y="244.6094">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="406" y="244.6094">Resolve Patient BSN</text><path d="M303,277.3516 L433,277.3516 L433,284.6621 L423,294.6621 L303,294.6621 L303,277.3516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="312.1055" style="stroke:#000000;stroke-width:1.5;" width="797.5" x="303" y="277.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="85" x="318" y="290.9199">localize data</text><path d="M313,301.6621 L770,301.6621 L770,308.9727 L760,318.9727 L313,318.9727 L313,301.6621 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="133.5527" style="stroke:#000000;stroke-width:1.5;" width="777.5" x="313" y="301.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="412" x="328" y="315.2305">option 1: localize and find addresses using Discovery Service</text><polygon fill="#181818" points="988,351.5938,998,355.5938,988,359.5938,992,355.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="994" y1="355.5938" y2="355.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="393" y="343.1963">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="317" x="406" y="335.541">Find all organizations that support the pzp service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="406" y="350.8516">Get /internal/discovery/v1/pzp</text><polygon fill="#181818" points="397,380.9043,387,384.9043,397,388.9043,393,384.9043" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="391" x2="999" y1="384.9043" y2="384.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="403" y="380.1621">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="373" x="416" y="380.1621">array of presentations of all organizations that support pzp</text><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="428" y1="414.2148" y2="414.2148"/><line style="stroke:#181818;stroke-width:1.0;" x1="428" x2="428" y1="414.2148" y2="427.2148"/><line style="stroke:#181818;stroke-width:1.0;" x1="387" x2="428" y1="427.2148" y2="427.2148"/><polygon fill="#181818" points="397,423.2148,387,427.2148,397,431.2148,393,427.2148" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="393" y="409.4727">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="406" y="409.4727">store array "ArrayOfPresentations"</text><path d="M313,449.2148 L905,449.2148 L905,456.5254 L895,466.5254 L313,466.5254 L313,449.2148 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="59.6211" style="stroke:#000000;stroke-width:1.5;" width="597" x="313" y="449.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="547" x="328" y="462.7832">option 2: localize using a local CareTeam, find addresses using Discovery Service</text><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="428" y1="487.8359" y2="487.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="428" x2="428" y1="487.8359" y2="500.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="387" x2="428" y1="500.8359" y2="500.8359"/><polygon fill="#181818" points="397,496.8359,387,500.8359,397,504.8359,393,500.8359" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="393" y="483.0938">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291" x="406" y="483.0938">get local CareTeam FHIR-resource of Patient X</text><path d="M313,522.8359 L812,522.8359 L812,530.1465 L802,540.1465 L313,540.1465 L313,522.8359 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="59.6211" style="stroke:#000000;stroke-width:1.5;" width="504" x="313" y="522.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="454" x="328" y="536.4043">option 3: localize using NVI, find addresses using Discovery Service</text><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="428" y1="561.457" y2="561.457"/><line style="stroke:#181818;stroke-width:1.0;" x1="428" x2="428" y1="561.457" y2="574.457"/><line style="stroke:#181818;stroke-width:1.0;" x1="387" x2="428" y1="574.457" y2="574.457"/><polygon fill="#181818" points="397,570.457,387,574.457,397,578.457,393,574.457" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="393" y="556.7148">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="406" y="556.7148">to do</text><path d="M293,603.457 L367,603.457 L367,610.7676 L357,620.7676 L293,620.7676 L293,603.457 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1078.1113" style="stroke:#000000;stroke-width:1.5;" width="1954.5" x="293" y="603.457"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="308" y="617.0254">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="158" x="382" y="616.0918">[for each found data holder]</text><path d="M303,627.7676 L508,627.7676 L508,635.0781 L498,645.0781 L303,645.0781 L303,627.7676 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="332.0371" style="stroke:#000000;stroke-width:1.5;" width="797.5" x="303" y="627.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="160" x="318" y="641.3359">get endpoint addresses</text><path d="M313,652.0781 L770,652.0781 L770,659.3887 L760,669.3887 L313,669.3887 L313,652.0781 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="59.6211" style="stroke:#000000;stroke-width:1.5;" width="687" x="313" y="652.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="412" x="328" y="665.6465">option 1: localize and find addresses using Discovery Service</text><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="428" y1="690.6992" y2="690.6992"/><line style="stroke:#181818;stroke-width:1.0;" x1="428" x2="428" y1="690.6992" y2="703.6992"/><line style="stroke:#181818;stroke-width:1.0;" x1="387" x2="428" y1="703.6992" y2="703.6992"/><polygon fill="#181818" points="397,699.6992,387,703.6992,397,707.6992,393,703.6992" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="393" y="685.957">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="573" x="415" y="685.957">get authz-server-url and fhir-base-url from the array "ArrayOfPresentations", filter on URA</text><path d="M313,725.6992 L905,725.6992 L905,733.0098 L895,743.0098 L313,743.0098 L313,725.6992 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="106.5527" style="stroke:#000000;stroke-width:1.5;" width="777.5" x="313" y="725.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="547" x="328" y="739.2676">option 2: localize using a local CareTeam, find addresses using Discovery Service</text><polygon fill="#181818" points="988,790.9414,998,794.9414,988,798.9414,992,794.9414" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="994" y1="794.9414" y2="794.9414"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="393" y="774.8887">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="415" y="759.5781">Get organization details by URA</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="415" y="774.8887">GET /internal/discovery/v1/pzp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="406" x="415" y="790.1992">payload { id_uzicert_x509credential.organization_ura = &lt;URA&gt; }</text><polygon fill="#181818" points="397,820.252,387,824.252,397,828.252,393,824.252" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="391" x2="999" y1="824.252" y2="824.252"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="403" y="819.5098">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="390" x="425" y="819.5098">presentation that includes authz-server-url and fhir-base-url</text><path d="M313,846.252 L812,846.252 L812,853.5625 L802,863.5625 L313,863.5625 L313,846.252 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="106.5527" style="stroke:#000000;stroke-width:1.5;" width="777.5" x="313" y="846.252"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="454" x="328" y="859.8203">option 3: localize using NVI, find addresses using Discovery Service</text><polygon fill="#181818" points="988,911.4941,998,915.4941,988,919.4941,992,915.4941" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="994" y1="915.4941" y2="915.4941"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="393" y="895.4414">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="415" y="880.1309">Get organization details by URA</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="415" y="895.4414">GET /internal/discovery/v1/pzp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="406" x="415" y="910.752">payload { id_uzicert_x509credential.organization_ura = &lt;URA&gt; }</text><polygon fill="#181818" points="397,940.8047,387,944.8047,397,948.8047,393,944.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="391" x2="999" y1="944.8047" y2="944.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="403" y="940.0625">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="417" x="425" y="940.0625">presentation that includes authz-server-url and and fhir-base-url</text><path d="M313,973.8047 L470,973.8047 L470,981.1152 L460,991.1152 L313,991.1152 L313,973.8047 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="171.1738" style="stroke:#000000;stroke-width:1.5;" width="1093" x="313" y="973.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="112" x="328" y="987.373">get access token</text><polygon fill="#181818" points="983,1039.0469,993,1043.0469,983,1047.0469,987,1043.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="989" y1="1043.0469" y2="1043.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="393" y="1022.9941">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="415" y="1007.6836">Get access token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="423" x="415" y="1022.9941">POST /internal/auth/v2/{subjectID}/request-service-access-token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="415" y="1038.3047">use authz-server-url found earlier</text><polygon fill="#181818" points="1016,1068.3574,1006,1072.3574,1016,1076.3574,1012,1072.3574" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1296,1068.3574,1306,1072.3574,1296,1076.3574,1300,1072.3574" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1010" x2="1302" y1="1072.3574" y2="1072.3574"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1022" y="1067.6152">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="1044" y="1067.6152">nuts-nodes handle access token request</text><path d="M1010,1085.3574 L1010,1110.3574 L1345,1110.3574 L1345,1095.3574 L1335,1085.3574 L1010,1085.3574 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1335,1085.3574 L1335,1095.3574 L1345,1095.3574 L1335,1085.3574 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="314" x="1016" y="1102.9258">uses X509Credential and NutsEmployeeCredential</text><polygon fill="#181818" points="397,1132.9785,387,1136.9785,397,1140.9785,393,1136.9785" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="391" x2="999" y1="1136.9785" y2="1136.9785"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="403" y="1132.2363">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="425" y="1132.2363">Access token</text><path d="M313,1158.9785 L481,1158.9785 L481,1166.2891 L471,1176.2891 L313,1176.2891 L313,1158.9785 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="250.7949" style="stroke:#000000;stroke-width:1.5;" width="1924.5" x="313" y="1158.9785"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="123" x="328" y="1172.5469">get Patient by bsn</text><polygon fill="#181818" points="1932,1193.5996,1942,1197.5996,1932,1201.5996,1936,1197.5996" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="1938" y1="1197.5996" y2="1197.5996"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="393" y="1192.8574">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="415" y="1192.8574">POST /fhir/Patient/_search</text><polygon fill="#181818" points="1324,1238.2207,1314,1242.2207,1324,1246.2207,1320,1242.2207" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1318" x2="1943" y1="1242.2207" y2="1242.2207"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1330" y="1229.8232">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="1352" y="1222.168">introspect access token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="1352" y="1237.4785">POST /internal/auth/v2/accesstoken/introspect</text><polygon fill="#181818" points="1932,1267.5313,1942,1271.5313,1932,1275.5313,1936,1271.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1308" x2="1938" y1="1271.5313" y2="1271.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1315" y="1266.7891">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="585" x="1337" y="1266.7891">valid token + URA of data_user_organization + name,userRole,identifier of data_user_person</text><line style="stroke:#181818;stroke-width:1.0;" x1="1954" x2="1996" y1="1300.8418" y2="1300.8418"/><line style="stroke:#181818;stroke-width:1.0;" x1="1996" x2="1996" y1="1300.8418" y2="1313.8418"/><line style="stroke:#181818;stroke-width:1.0;" x1="1955" x2="1996" y1="1313.8418" y2="1313.8418"/><polygon fill="#181818" points="1965,1309.8418,1955,1313.8418,1965,1317.8418,1961,1313.8418" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1961" y="1296.0996">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="1983" y="1296.0996">Authorization</text><polygon fill="#181818" points="2126,1339.1523,2136,1343.1523,2126,1347.1523,2130,1343.1523" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1954" x2="2132" y1="1343.1523" y2="1343.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1961" y="1338.4102">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="1983" y="1338.4102">forward request</text><polygon fill="#181818" points="1965,1368.4629,1955,1372.4629,1965,1376.4629,1961,1372.4629" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1959" x2="2137" y1="1372.4629" y2="1372.4629"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1971" y="1367.7207">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1993" y="1367.7207">Patient-resource</text><polygon fill="#181818" points="397,1397.7734,387,1401.7734,397,1405.7734,393,1401.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="391" x2="1948" y1="1401.7734" y2="1401.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="403" y="1397.0313">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="425" y="1397.0313">forward Patient-resource</text><path d="M313,1423.7734 L669,1423.7734 L669,1431.084 L659,1441.084 L313,1441.084 L313,1423.7734 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="250.7949" style="stroke:#000000;stroke-width:1.5;" width="1924.5" x="313" y="1423.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="311" x="328" y="1437.3418">get TreatmentDirective2 by Patient-reference</text><polygon fill="#181818" points="1932,1458.3945,1942,1462.3945,1932,1466.3945,1936,1462.3945" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="1938" y1="1462.3945" y2="1462.3945"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="393" y="1457.6523">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="305" x="415" y="1457.6523">GET /fhir/Consent?patient=&lt;patient-reference&gt;</text><polygon fill="#181818" points="1324,1503.0156,1314,1507.0156,1324,1511.0156,1320,1507.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1318" x2="1943" y1="1507.0156" y2="1507.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1330" y="1494.6182">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="1352" y="1486.9629">introspect access token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="1352" y="1502.2734">POST /internal/auth/v2/accesstoken/introspect</text><polygon fill="#181818" points="1932,1532.3262,1942,1536.3262,1932,1540.3262,1936,1536.3262" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1308" x2="1938" y1="1536.3262" y2="1536.3262"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1315" y="1531.584">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="406" x="1337" y="1531.584">valid token + URA of data_user + USER{name,userRole,identifier}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1954" x2="1996" y1="1565.6367" y2="1565.6367"/><line style="stroke:#181818;stroke-width:1.0;" x1="1996" x2="1996" y1="1565.6367" y2="1578.6367"/><line style="stroke:#181818;stroke-width:1.0;" x1="1955" x2="1996" y1="1578.6367" y2="1578.6367"/><polygon fill="#181818" points="1965,1574.6367,1955,1578.6367,1965,1582.6367,1961,1578.6367" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1961" y="1560.8945">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="1983" y="1560.8945">Authorization</text><polygon fill="#181818" points="2126,1603.9473,2136,1607.9473,2126,1611.9473,2130,1607.9473" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1954" x2="2132" y1="1607.9473" y2="1607.9473"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1961" y="1603.2051">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="1983" y="1603.2051">forward request</text><polygon fill="#181818" points="1965,1633.2578,1955,1637.2578,1965,1641.2578,1961,1637.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1959" x2="2137" y1="1637.2578" y2="1637.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1971" y="1632.5156">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="1993" y="1632.5156">Consent-resource</text><polygon fill="#181818" points="397,1662.5684,387,1666.5684,397,1670.5684,393,1666.5684" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="391" x2="1948" y1="1666.5684" y2="1666.5684"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="403" y="1661.8262">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="425" y="1661.8262">forward Consent-resource</text><polygon fill="#181818" points="100,1705.8789,90,1709.8789,100,1713.8789,96,1709.8789" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="94" x2="380" y1="1709.8789" y2="1709.8789"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="106" y="1705.1367">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="128" y="1705.1367">Display data</text><!--SRC=[xLZVRzis47xtNt7eNZOqcjiCmp0XzU3cHnUWI8qa7JgWW45BPviBJN8avSOEyh_lICcsP4csrwLxYXuIYphTVNVVtV6eAKyHnagvaRhliCmfcSr6Q3hsZalD39l1MtK_O6dAvGIENtKw90SfSsoOMJH3PIPCSiiSLxB34gTCwQ56OscPr3YUSCsaWxxMmxL0vSbLvknGgXHBpr6cu75jZ4wLIBVDxj2IYrSHzFl3WL7tYrQ9YoatGp8_9qDbcHMQRGSXwbNzWXZUgmbmsQakDyYT6cGEuQE_isWj-NC4dsMuvtAiG2Acc1939lXsFjD2BH3flHIbuqp0zzQXXbz-w1m4xDq03FwTeQL8d0w23JCBSGms1lIJzC8dJoQVUsnLoe2ktLx5S8rMYJckbRszkUg45oT6PHg4IfZWImoCXlNDi-yqbtUWT03qEjx8CWh-cDCVIaL3WK8BcVKvUSPjeeYg1TmGPJp1jSP6g0rf5iD5K2m4v7cr3F6muARCWSsqLiRH3O9UQh2v5IBf7JheSkdGI2QwwGf7T_wwIu8L60rM8Qe7ZXd35g36eCb5Ybo1WnRsWDksLz5RjsEfJh6mzgBl_tqO3yecNwor-QGFr7IscH9yCdKZaU6AhkCINJatB5-0KsRm5jdiw4aet79cGZHKpS35xvVN4PbGcI6cA7oRjDxlrtllrvyeXFgoykodccTNVrp-TsUYtfOhJa6g6Y0s01PAwL2no98f_SZeiTS4HREgEkLZH0gqedJT8AuW-pRrTq0oUcoqyKoNKTvpeyo8t1pruMZ4B8QLiL6pK8IxqjPp8gWWWT1_lEvNe5J3kRgQOl1_PVRX3SgtcdBvGugESM5XjF1- -cPqVhkZ6P60PWkXM0eFmDDXjYGinWtlVtxrQxBUIduicnXcXi4RE27rFNYiuJwmevKRMTwok4n4bbA4zdFUGbyJPT-qQ9zvgl5qA5Txssse_YGXCgZxtQ6irUJXWQ-e-Im77sxAeVPkTEV7tGURZVx2n5sUFNQBIIWgzlGern2jD93gklTvgqLc12-rMN-j9wQcKVOGNawYkdjvEwV1JT9wvDSjJ2dw0gl-5gxKx4X5W8ol3hyFDbcDgGP8wITAiT9KwGbk7ZY_BiN8JB-4jw8anOD2jpE7LZiy5Th8oZq3HDCH88OyONnMTmjjNJe6C9DCcsbkFadK6aUJ5EmWcZBMAAifHIiCjoPqBXHakfjtQpZQGjm2ku7ON9AORNOfXZarsxJ8nvUXtr7ARPyLYyRu4YIRuP5_SAq47l6GNMFkz-vn_Gov3QqzPVuj3It9qAVeAbEWFKnRr6ivESP-KFl2JDfQfIqljiKwNgNxUiWzrDzwvrz1swcn5ExTMR-pHc_zONT6HiwuGQyFZtszRYoFqQ3SE_utHoHihA5uJsaI97s_wLplcnEzRQ3tND1FKD1-wURy-g6ja1-VgtOBNf6PJrYrEpL-HTMkxlpnihEUnQedkAXN-z0K-mbQ2pgNXMywPSELhqV_0000]--></g></svg>